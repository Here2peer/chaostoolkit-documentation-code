{
  "chaoslib-version": "1.15.1",
  "platform": "Linux-4.19.128-microsoft-standard-x86_64-with-glibc2.29",
  "node": "DESKTOP-72KKKO4",
  "experiment": {
    "version": "0.0.1",
    "title": "What is the impact of scaling a deployment?",
    "description": "Deployment scaling should happen without errors.",
    "tags": [
      "kubernetes"
    ],
    "secrets": {
      "k8s": {
        "kubernetes": {
          "KUBERNETES_HOST": "192.168.1.3:80",
          "KUBERNETES_CERT_FILE": {
            "type": "env",
            "key": "kubecert"
          },
          "KUBERNETES_KEY_FILE": {
            "type": "env",
            "key": "kubekey"
          }
        }
      }
    },
    "steady-state-hypothesis": {
      "title": "Verifying deployment is available and healthy",
      "probes": [
        {
          "name": "Deployment-available-and-healthy",
          "type": "probe",
          "tolerance": true,
          "secrets": [
            "k8s"
          ],
          "provider": {
            "type": "python",
            "module": "chaosk8s.probes",
            "func": "deployment_available_and_healthy",
            "arguments": {
              "name": "book",
              "label_selector": "app.kubernetes.io/name=load-book-api"
            }
          }
        }
      ]
    },
    "method": [
      {
        "type": "action",
        "name": "scale-deployment",
        "provider": {
          "type": "python",
          "module": "chaosk8s.deployment.actions",
          "func": "scale_deployment",
          "arguments": {
            "name": "book",
            "ns": "default",
            "replicas": 10
          }
        }
      },
      {
        "type": "probe",
        "name": "deployment-fully-available",
        "provider": {
          "type": "python",
          "module": "chaosk8s.deployment.probes",
          "func": "deployment_fully_available",
          "arguments": {
            "name": "book",
            "timeout": 30
          }
        }
      },
      {
        "type": "probe",
        "name": "count-pods",
        "provider": {
          "type": "python",
          "module": "chaosk8s.pod.probes",
          "func": "count_pods",
          "arguments": {
            "label_selector": "app.kubernetes.io/name=load-book-api"
          }
        }
      }
    ],
    "rollbacks": [
      {
        "type": "action",
        "name": "scale-deployment",
        "provider": {
          "type": "python",
          "module": "chaosk8s.deployment.actions",
          "func": "scale_deployment",
          "arguments": {
            "name": "book",
            "ns": "default",
            "replicas": 1
          }
        }
      }
    ],
    "dry": false
  },
  "start": "2020-12-09T13:33:44.864075",
  "status": "completed",
  "deviated": false,
  "steady_states": {
    "before": {
      "steady_state_met": true,
      "probes": [
        {
          "activity": {
            "name": "Deployment-available-and-healthy",
            "type": "probe",
            "tolerance": true,
            "secrets": [
              "k8s"
            ],
            "provider": {
              "type": "python",
              "module": "chaosk8s.probes",
              "func": "deployment_available_and_healthy",
              "arguments": {
                "name": "book",
                "label_selector": "app.kubernetes.io/name=load-book-api"
              }
            }
          },
          "output": true,
          "status": "succeeded",
          "start": "2020-12-09T13:33:44.864445",
          "end": "2020-12-09T13:33:44.876614",
          "duration": 0.012169,
          "tolerance_met": true
        }
      ]
    },
    "after": {
      "steady_state_met": true,
      "probes": [
        {
          "activity": {
            "name": "Deployment-available-and-healthy",
            "type": "probe",
            "tolerance": true,
            "secrets": [
              "k8s"
            ],
            "provider": {
              "type": "python",
              "module": "chaosk8s.probes",
              "func": "deployment_available_and_healthy",
              "arguments": {
                "name": "book",
                "label_selector": "app.kubernetes.io/name=load-book-api"
              }
            }
          },
          "output": true,
          "status": "succeeded",
          "start": "2020-12-09T13:33:50.449164",
          "end": "2020-12-09T13:33:50.477325",
          "duration": 0.028161,
          "tolerance_met": true
        }
      ]
    },
    "during": []
  },
  "run": [
    {
      "activity": {
        "type": "action",
        "name": "scale-deployment",
        "provider": {
          "type": "python",
          "module": "chaosk8s.deployment.actions",
          "func": "scale_deployment",
          "arguments": {
            "name": "book",
            "ns": "default",
            "replicas": 10
          }
        }
      },
      "output": null,
      "status": "succeeded",
      "start": "2020-12-09T13:33:44.876888",
      "end": "2020-12-09T13:33:44.886141",
      "duration": 0.009253
    },
    {
      "activity": {
        "type": "probe",
        "name": "deployment-fully-available",
        "provider": {
          "type": "python",
          "module": "chaosk8s.deployment.probes",
          "func": "deployment_fully_available",
          "arguments": {
            "name": "book",
            "timeout": 30
          }
        }
      },
      "output": true,
      "status": "succeeded",
      "start": "2020-12-09T13:33:44.886334",
      "end": "2020-12-09T13:33:50.395114",
      "duration": 5.50878
    },
    {
      "activity": {
        "type": "probe",
        "name": "count-pods",
        "provider": {
          "type": "python",
          "module": "chaosk8s.pod.probes",
          "func": "count_pods",
          "arguments": {
            "label_selector": "app.kubernetes.io/name=load-book-api"
          }
        }
      },
      "output": 10,
      "status": "succeeded",
      "start": "2020-12-09T13:33:50.395995",
      "end": "2020-12-09T13:33:50.448776",
      "duration": 0.052781
    }
  ],
  "rollbacks": [
    {
      "activity": {
        "type": "action",
        "name": "scale-deployment",
        "provider": {
          "type": "python",
          "module": "chaosk8s.deployment.actions",
          "func": "scale_deployment",
          "arguments": {
            "name": "book",
            "ns": "default",
            "replicas": 1
          }
        }
      },
      "output": null,
      "status": "succeeded",
      "start": "2020-12-09T13:33:50.477785",
      "end": "2020-12-09T13:33:50.508664",
      "duration": 0.030879
    }
  ],
  "end": "2020-12-09T13:33:50.508813",
  "duration": 5.649463891983032
}