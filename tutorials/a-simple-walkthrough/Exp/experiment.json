{
	"version": "0.0.1",
	"title": "What is the impact of killing a pod?",
	"description": "If the pod is killed, we should spin up a new pod.",
	"tags": ["kubernetes"],
    "secrets": {
        "kubernetes": {
            "KUBERNETES_HOST": "http://192.168.1.3:8001",
            "KUBERNETES_USERNAME": {
                "type": "env",
                "key": "default"
            },
            "KUBERNETES_PASSWORD": {
                "type": "env",
                "key": "eyJhbGciOiJSUzI1NiIsImtpZCI6IkV0bFNSWFFwajJjQjdpdUVqRHFVdk43RTF3akdiVWk2eUw5NDVic1RQa0kifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6ImRlZmF1bHQtdG9rZW4td3RneHQiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiZGVmYXVsdCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjQ0YmUzZDlmLWQ5NGUtNGU1MC05NDhkLWM5OTYyMzI0Y2FmZCIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmRlZmF1bHQifQ.LRFrhVxRx5cXu6xFMFEUuNZZ3PZh_RlVNgSaKtIBHtvVMpsoc2hymAnJxqynLQMMac2xmJuG-CE2cWTJBJbeHkecFAz_SwhyLNm75pZVoZ6-vSs9exrPBGl7Hc79-3nfSuQ8XRjXfdL9-R4bTbBY8bQUxtRm61lHm_rAaTofXMXUpmHCPkjEVv9ra5x2U2rfx5vnhrRap-v30yReDM6pjNQER7zbKr31KVHLCT10g4s8rExt1bczfJobyXWL4pnqCHfdAGwqtTnBVftwzpoMbGEYF7a0H4JJyuNgq1js8ypqpjnh8NCMZbMVNksOBUtStfhE9Fe5UbHlVWOYs-qCOA"
            }
        }
    },

	"steady-state-hypothesis": {
		"title": "Verifying service remains healthy",
		"probes": [{
			"name": "all-our-microservices-should-be-healthy",
			"type": "probe",
			"tolerance": true,
			"secrets": ["k8s"],
			"provider": {
				"type": "python",
				"module": "chaosk8s.probes",
				"func": "microservice_available_and_healthy",
				"arguments": {
					"name": "bookapi"
				}
			}
		}]
	},

	"method": [{
		"type": "action",
		"name": "we-can-request-list-of-books",
		"tolerance": 200,
		"provider": {
			"type": "http",
			"timeout": 3,
			"verify_tls": false,
			"url": "http://192.168.1.3:30571/all"
		}
	}]

}